# Node.js Study

> Inflearn. [리뉴얼] Node.js 교과서 - 기본부터 프로젝트 실습까지

## 자바스크립트

> https://ko.javascript.info/

## 노드의 정의

- __Node.js 는 크롬 V8 자바스크립트 엔진으로 빌드된 `자바스크립트 런타임`이다.__
  - `런타임` : 특정 언어로 만든 프로그램들을 실행할 수 있게 해주는 가상 머신(크롬의 V8 엔진 사용)의 상태
  - Node.js 는 서버가 아니다.
  - Node.js 는 자바스크립트로 만든 프로그램들을 실행할 수 있게 해 준다.
  - Node.js 가 없었던 시절에는 자바스크립트를 어떻게 실행했을까?
    - HTML 에서 `<script>` 태그 사이에 자바스크립트 언어로 함수 등을 작성하면, 브라우저가 HTML 과 SCRIPT 를 읽어서 실행했다.
    - 어떻게 보면, 자바스크립트는 HTML 에 `종속적`이었다고 볼 수 있다.
  - Node.js 가 등장함에 따라, 자바스크립트는 브라우저나 HTML 의 종속성에서 벗어나게 되었다.

> 노드 이전에도 자바스크립트 런타임을 만들기 위한 많은 시도가 있었는데 엔진 속도 문제 때문에 실패하였다.

## 내부 구조

![node](https://user-images.githubusercontent.com/47518272/155958444-9f3905a6-66f1-4a36-85e0-12844f9d9325.png)

- __V8 엔진__
  - 오픈 소스 자바스크립트 엔진 -> 속도 문제 개선
- __libuv__
  - 노드의 특성인 이벤트 기반, 논블로킹 I/O 모델을 구현한 라이브러리

> 내부는 C or C++ 로 만들어졌다.

## 노드의 특성

- __이벤트 기반__
  - 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식
    - Ex. 클릭, 네트워크 요청, 타이머 등
  - `이벤트 리스너` : 이벤트를 등록하는 함수
  - `콜백 함수` : 이벤트가 발생했을 때 실행될 함수
  - ![nodeevent](https://user-images.githubusercontent.com/47518272/155959104-0924405f-d2b1-434d-add1-74528258294c.png)
- __논 블로킹 I/O__
  - 오래 걸리는 함수를 백그라운드로 보내서 다음 코드가 먼저 실행되게 하고, 나중에 오래 걸리는 함수를 실행
  - 논 블로킹 방식 하에서 일부 코드는 백그라운드에서 병렬로 실행됨
  - 일부 코드: I/O 작업(파일 시스템 접근, 네트워크 요청), 압축, 암호화 등
  - 나머지 코드는 블로킹 방식으로 실행됨
  - I/O 작업이 많을 때 노드 활용성이 극대화
  - ![blocking](https://user-images.githubusercontent.com/47518272/155965468-cf138fee-9451-4fb4-8ffa-06e5da854183.png)
- __프로세스와 스레드__
  - 노드 프로세스는 멀티 스레드이지만 `직접 다룰 수 있는 스레드는 하나`이기 때문에 `싱글 스레드`라고 표현
  - 노드는 주로 멀티 프로세스를 활용
    - 노드 14 부터 멀티 스레드 사용 가능
  - `싱글 스레드라 주어진 일을 하나밖에 처리하지 못함`
  - 블로킹이 발생하는 경우 나머지 작업은 모두 대기해야 함 -> 비효율 발생

## 노드의 역할

### 서버로서의 노드

- __노드 서버의 장단점__
  - ![noderole](https://user-images.githubusercontent.com/47518272/155966986-7f3e15ca-fa8f-4b87-917e-7a23f73dc5d3.png)
  - CPU 작업을 위해 AWS Lambda 나 Google Cloud Functions 같은 별도 서비스 사용
  - 페이팔, 넷플릭스, 나사, 월마트, 링크드인, 우버 등에서 메인 또는 서브 서버로 사용

## 서버 외의 노드

- __웹 모바일, 데스크탑 애플리케이션에서도 사용__
  - 웹 프레임워크: Angular, React, Vue, Meteor 등
  - 모바일 앱 프레임워크: React Native
  - 데스크탑 개발 도구: Electron(Atom, Slack, VSCode, Discord 등 제작
  - 위 프레임워크들이 노드 기반으로 동작함

## 노드 설치

- __윈도(10 기준), 맥(카탈리나 기준)__
  - https://nodejs.org 접속
  - LTS는 안정된 버전, Current는 최신 버전(실험적)
  - ![nodeinstall](https://user-images.githubusercontent.com/47518272/155970433-1ded16a3-7548-41bc-9cad-8da09e036bee.png)
- __리눅스(우분투 18 LTS 기준)__
  - ![nodelinux](https://user-images.githubusercontent.com/47518272/155970447-91dfaef7-5c8f-484a-99a7-b1202ba434df.png)
